<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <title>Centro Educativo • Registro de asistencia</title>
  <meta name="description" content="Formulario de registro de asistencia">
  <style>
    :root{
      --bg:#f6f7fb; --panel:#ffffff; --ink:#0f172a; --muted:#64748b; --pri:#2563eb; --pri-2:#1d4ed8;
      --border:#e5e7eb; --ok:#0ea5e9;
    }
    *{box-sizing:border-box}
    body{margin:0; font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Ubuntu, Arial, Noto Sans, sans-serif; color:var(--ink); background:var(--bg)}
    header{background:#ffffff; border-bottom:1px solid var(--border);}
    .top{max-width:980px; margin:0 auto; padding:14px 16px; display:flex; align-items:center; gap:12px;}
    .logo{width:36px; height:36px; border-radius:8px; background: conic-gradient(from 45deg,#2563eb 0 25%,#06b6d4 0 50%,#10b981 0 75%,#f59e0b 0 100%);}
    .brand{font-weight:800; letter-spacing:.2px}
    main{max-width:720px; margin:26px auto; padding: 0 16px}
    .card{background:var(--panel); border:1px solid var(--border); border-radius:14px; box-shadow: 0 10px 30px rgba(2,6,23,.06)}
    .head{padding:18px 18px 0}
    .title{margin:0; font-weight:800; font-size: clamp(18px, 2.6vw, 28px);}
    .sub{color:var(--muted); margin-top:6px; font-size:14px}
    form{padding:18px}
    label{display:block; font-weight:700; margin:12px 0 6px}
    input, select{width:100%; padding:12px 14px; border:1px solid var(--border); border-radius:10px; outline:none; font-size:16px; background:#fff}
    input:focus, select:focus{border-color:#93c5fd; box-shadow: 0 0 0 3px rgba(147,197,253,.35)}
    .row{display:grid; gap:14px; grid-template-columns: 1fr 1fr}
    @media (max-width:720px){ .row{grid-template-columns:1fr} }
    .hint{font-size:12px; color:var(--muted)}
    .btn{cursor:pointer; border:1px solid #c7d2fe; background: linear-gradient(180deg,#2563eb,#1d4ed8); color:white; padding:12px 16px; border-radius:10px; font-weight:800; letter-spacing:.2px}
    .btn:active{transform: translateY(1px)}
    .foot{padding:16px 18px; border-top:1px solid var(--border); display:flex; justify-content:space-between; align-items:center}
    .badge{display:inline-flex; align-items:center; gap:6px; font-size:12px; color:#075985; background:#e0f2fe; border:1px solid #bae6fd; padding:6px 10px; border-radius:999px}
    .disclaimer{display:none} /* Oculto para la demostración */
  </style>
</head>
<body>
  <header>
    <div class="top">
      <div class="logo" aria-hidden="true"></div>
      <div class="brand">Centro Educativo</div>
    </div>
  </header>

  <main>
    <section class="card">
      <div class="head">
        <h1 class="title">Registro de asistencia</h1>
        <p class="sub">Complete los datos solicitados para confirmar su participación.</p>
      </div>
      <form id="form">
        <label for="name">Nombre y apellidos</label>
        <input id="name" name="name" autocomplete="name" required placeholder="Ej.: María Rodríguez">

        <label for="email">Correo electrónico</label>
        <input id="email" name="email" type="email" autocomplete="email" required placeholder="persona@ejemplo.com">

        <div class="row">
          <div>
            <label for="phone">Teléfono</label>
            <input id="phone" name="phone" type="tel" inputmode="numeric" pattern="[0-9 +()-]{6,}" required placeholder="8888-8888">
          </div>
          <div>
            <label for="group">Grupo / Sección</label>
            <select id="group" name="group" required>
              <option value="" disabled selected>Seleccione…</option>
              <option>11-1</option>
              <option>11-2</option>
              <option>12-1</option>
              <option>Adultos Noche</option>
            </select>
          </div>
        </div>

        <label for="idn">Identificación (opcional)</label>
        <input id="idn" name="idn" inputmode="numeric" pattern="[0-9-]{7,}" placeholder="Ej.: 1-2345-0678">

        <div style="margin-top:14px">
          <button class="btn" type="submit">Enviar</button>
        </div>

        <p class="disclaimer hint" id="disc">Al continuar, usted acepta el tratamiento de datos conforme a la política institucional.</p>
      </form>
      <div class="foot">
        <span class="badge">Servicio en línea</span>
        <span class="hint">© Centro Educativo</span>
      </div>
    </section>
  </main>

  <!-- Modal de revelación -->
  <dialog id="modal">
    <div style="background:#fff; border:1px solid #e5e7eb; border-radius:14px; padding:18px; max-width:680px">
      <h3 style="margin:0 0 6px 0">Simulación educativa (ciberseguridad)</h3>
      <p style="color:#334155; font-size:14px">
        Este formulario era una <strong>simulación segura</strong>. Así funcionan muchas estafas digitales:
        <em>parecen reales</em>, y sin darnos cuenta entregamos nuestros datos.<br>
        Sus datos NO salieron de su dispositivo; se guardaron temporalmente solo para esta demostración.
      </p>
      <pre id="echo" style="background:#f8fafc; border:1px solid #e5e7eb; border-radius:10px; padding:10px; white-space:pre-wrap;"></pre>
      <div style="display:flex; gap:10px; justify-content:flex-end; margin-top:10px">
        <button id="ok" class="btn" style="background:linear-gradient(180deg,#059669,#047857); border-color:#a7f3d0">Entendido</button>
      </div>
    </div>
  </dialog>

  <script>
    // Endurecer: impedir red saliente (para asegurar local-only)
    (function harden(){
      const block = ()=>{ throw new Error("Demostración segura: sin red"); };
      if(window.fetch) window.fetch = block;
      if(navigator.sendBeacon) navigator.sendBeacon = block;
      if(window.XMLHttpRequest){
        const X = window.XMLHttpRequest;
        X.prototype.open = function(){ block(); };
      }
    })();

    const KEY = "sim_asistencia_v2";
    const $ = s => document.querySelector(s);
    const form = $("#form");
    const modal = $("#modal");
    const echo = $("#echo");
    const ok = $("#ok");

    function getAll(){
      try { return JSON.parse(localStorage.getItem(KEY) || "[]"); }
      catch { return []; }
    }
    function setAll(arr){ localStorage.setItem(KEY, JSON.stringify(arr)); }

    form.addEventListener("submit", (e)=>{
      e.preventDefault();
      const data = Object.fromEntries(new FormData(form).entries());
      data.ts = Date.now();
      const arr = getAll(); arr.push(data); setAll(arr);

      echo.textContent = `Usted compartió:\n• Nombre: ${data.name}\n• Correo: ${data.email}\n• Teléfono: ${data.phone}\n• Grupo: ${data.group||"(no indicado)"}\n• Identificación: ${data.idn||"(no indicado)"}\n\nRecuerde: verifique el sitio y la dirección web antes de enviar datos.`;
      modal.showModal();
      form.reset();
    });

    ok.addEventListener("click", ()=> modal.close());
  </script>
</body>
</html>
